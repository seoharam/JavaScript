<html>
    <head>
        <!-- html 문서의 스타일 정보를 정의 -->
        <style>
            /* table 요소 꾸미기 */
            table {
                border-collapse: collapse;
            }
            /* header cell 요소 꾸미기 */
            td {
                border : 3px solid black;
                width : 50px;
                height : 50px;
                text-align : center;
            }
        </style>
    </head>

    <body>
        <script>
            // create element
            const cp_table = document.createElement('table');
            const cp_result = document.createElement('div');

            // temp variable
            let mark = 'O'

            // function
            const table_event_listener = (event) => {
                const which_td = event.target.closest('td');
                which_td.textContent = mark;
                if (mark === 'O'){
                    mark = 'X';
                }
                else {
                    mark = 'O';
                }
            }

            // create table automatically
            for (let i = 0; i < 3; i++) { // table row
                const cp_tr = document.createElement('tr');
                for (let j = 0; j < 3; j++) { // table data
                    const cp_td = document.createElement('td');
                    cp_tr.append(cp_td);
                }
                cp_table.append(cp_tr);
            }

            document.body.append(cp_table);
            document.body.append(cp_result);

            // table event listener
            cp_table.addEventListener('click', table_event_listener);
        </script>
    </body>
</html>